# functions for .bashrc
function parse_string(){
# 处理字符串变量部分字符的转义 for sed
	echo $1 | sed -e 's/\\/\\\\/g' -e 's/\//\\\//g' -e 's/&/\\\&/g' 
}

function proxyon(){
 	export http_proxy="127.0.0.1:8087"
 	export https_proxy=$http_proxy
 	export ftp_proxy=$http_proxy
 	export rsync_proxy=$http_proxy
 	export no_proxy="localhost,127.0.0.1,localaddress,.localdomain.com"
 	export HTTP_PROXY="127.0.0.1:8087"
 	export HTTPS_PROXY=$http_proxy
 	export FTP_PROXY=$http_proxy
 	export RSYNC_PROXY=$http_proxy
 	export NO_PROXY="localhost,127.0.0.1,localaddress,.localdomain.com"
 	echo -e "\nProxy environment variable set."
}
function proxyoff(){
 	unset HTTP_PROXY
 	unset http_proxy
 	unset HTTPS_PROXY
	unset https_proxy
 	unset FTP_PROXY
	unset ftp_proxy
 	unset RSYNC_PROXY
	unset rsync_proxy
 	echo -e "\nProxy environment variable removed."
}
function addrss(){
	local _path="/home/hasky/Documents/dotfiles/.newsbeuter/urls"
	if [ $# -eq 1 ];then
		echo $1 >> $_path
	else
		echo -e "# $1\n$2" >> $_path
	fi
	echo '...'
	tail -n 3 $_path
}
function delrss(){
	local _path="/home/hasky/Documents/dotfiles/.newsbeuter/urls"
	if grep -i $1 $_path
	then
		sed -i.bak  "/$(parse_string $1)/d" $_path # 备份后写入
	else
		echo "rss 地址不存在"
	fi
}
