# C-j 按住shift操作 回到原有的模式
set-option -g prefix C-j

### 快捷键 {{{
# vim 
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
# bind -t vi-copy y copy-pipe 'xclip -in -selection clipboard'
# bind C-p run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer"
# bind C-y run "tmux save-buffer - | xclip -i"

bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."  # reload config

# 去除prefix -> ( only alt )  for linux
# bind-key -n M-v split-window -h -c "#{pane_current_path}"
# bind-key -n M-s split-window -v -c "#{pane_current_path}"
# bind -n M-h select-pane -L
# bind -n M-j select-pane -D
# bind -n M-k select-pane -U
# bind -n M-l select-pane -R
# bind -n M-left prev # window
# bind -n M-right next
# bind -n C-left swap-window -t -1
# bind -n C-right swap-window -t +1
# bind-key -n  M-0 select-window -t :0
# bind-key -n  M-1 select-window -t :1
# bind-key -n  M-2 select-window -t :2
# bind-key -n  M-3 select-window -t :3
# bind-key -n  M-4 select-window -t :4
# bind-key -n  M-5 select-window -t :5
# bind-key -n  M-6 select-window -t :6
# bind-key -n  M-7 select-window -t :7
# bind-key -n  M-8 select-window -t :8
# bind-key -n  M-9 select-window -t :9
#
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
# bind C-left swap-window -t -1
# bind C-right swap-window -t +1
# bind M-0 select-window -t :0
# bind M-1 select-window -t :1
# bind M-2 select-window -t :2
# bind M-3 select-window -t :3
# bind M-4 select-window -t :4
# bind M-5 select-window -t :5
# bind M-6 select-window -t :6
# bind M-7 select-window -t :7
# bind M-8 select-window -t :8
# bind M-9 select-window -t :9

## }}}

###### theme start ###########

## 配色 (Solarized dark) {{{
# default statusbar colors
set-option -g status-bg black #base02
set-option -g status-fg yellow #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg brightblue #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg brightred #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg black #base02
set-option -g pane-active-border-fg brightgreen #base01

# message text
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange

# pane number display
set-option -g display-panes-active-colour blue #blue
set-option -g display-panes-colour brightred #orange

# clock
set-window-option -g clock-mode-colour green #green
## }}}

# ## 配色 (Solarized light) {{{
# # default statusbar colors
# set-option -g status-bg white #base2
# set-option -g status-fg yellow #yellow
# set-option -g status-attr default
#
# # default window title colors
# set-window-option -g window-status-fg brightyellow #base00
# set-window-option -g window-status-bg default
# #set-window-option -g window-status-attr dim
#
# # active window title colors
# set-window-option -g window-status-current-fg brightred #orange
# set-window-option -g window-status-current-bg default
# #set-window-option -g window-status-current-attr bright
#
# # pane border
# set-option -g pane-border-fg white #base2
# set-option -g pane-active-border-fg brightcyan #base1
#
# # message text
# set-option -g message-bg white #base2
# set-option -g message-fg brightred #orange
#
# # pane number display
# set-option -g display-panes-active-colour blue #blue
# set-option -g display-panes-colour brightred #orange
#
# # clock
# set-window-option -g clock-mode-colour green #green
# ## }}}
#
# ######## theme end ###########

### status bar {{{
set-option -g status-attr dim
set-option -g status-utf8 on
set-option -g status on
set-option -g status-interval 2
set-option -g status-left-length 180
set-option -g status-right-length 0
set-option -g status-justify "right"

set -g status-left "#[bg=default] \
\#[fg=cyan]#(uname -rs) \
\#[fg=red]#(top -l 1 | awk 'NR==3 {print $3$4$5}') \
\#[fg=yellow]#(top -l 1 | awk 'NR==7 {print $2FS$6}')\
\#(/Users/hasky/Documents/devel/git/ArchDotfiles/script/netspeed_tmux.sh)\
"
# \#[fg=green] \
# \#([[ $(mpc | wc -l | xargs) -eq 1 ]] && mpd -V | head -n1 || mpc | awk 'NR==2 {printf $3} NR==1 {printf $0FS}')\

# set -g status-right "\
# \#[fg=green]\
# \#([[ $(mpc | wc -l | xargs) -eq 1 ]] && mpd -V | head -n1 || mpc | awk 'NR==2 {printf $3} NR==1 {printf $0FS}')\
# "
### }}}

set-window-option -g mode-keys vi
set-window-option -g automatic-rename 
set-window-option -g window-style 'bg=default'
set-window-option -g window-active-style 'bg=default'

set -g base-index 1 # Start numbering at 1
set -s escape-time 0 # Allows for faster key repetition
set -g history-limit 10000 
set -g monitor-activity on
set -g visual-activity on

# set-option -g mouse-resize-pane on
# set-option -g mouse-select-pane on
# set-option -g mouse-select-window on
set-option -g -q mouse on
set-option -g renumber-windows on

# set-option -g default-command "reattach-to-user-namespace -l zsh"
set-option -g default-command "zsh"
# set -g default-terminal "xterm"
# set -g terminal-overrides 'xterm*:smcup@:rmcup@' # scrolling issues
